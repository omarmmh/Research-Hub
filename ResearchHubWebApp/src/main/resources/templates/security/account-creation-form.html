<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security" xmlns="http://www.w3.org/1999/html"
      layout:decorate="~{fragments/layout}">
<head> <!-- The header of the code which include the titles of the page & the metadata -->
    <title>Sign Up</title>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<!--End of header beginning of the body section of the page-->
<body>
<section layout:fragment="jumbotron" class="bg-gray">
    <div class="container">
        <div class="jumbotron py-5">
            <p class="display-4 brand-font">Sign Up Below</p>
            <p class="lead">Please signup to join the community!</p>
        </div>
    </div>
</section>

<section layout:fragment="content"> <!-- decorate the layout template "content" -->
    <div class="row justify-content-center" bis_skin_checked="1">
        <!-- Majority of the styling used below is done via bootstrap for global styling -->
        <!--   ----------           SIGNUP FORM               -------------->
        <form class="col-md-6 py-3" action="/account-creation" th:action="@{/account-creation}" method="post" th:object="${user}">
            <div class="alert alert-danger" th:if="${#fields.hasErrors()}"> <strong>Sign up unsuccessful</strong> See below for error messages</div>

            <div class="form-group my-1"> <!-- Form group to contain the form input & label  -->
                <label><b>Username</b></label> <!-- Form control for responsiveness  -->
                <input type="text" class="form-control" placeholder="Enter Username" th:field="*{username}" required>
                <p th:if="${#fields.hasErrors('username')}" th:errors="*{username}"></p> <!-- Checking if condition is met for username -->
            </div>

            <!-- Created a row & column to style & center the form which asks for the First & Surname  -->
            <div class="row">
                <div class="col">
                    <label><b>First Name</b></label> <!-- Form control for responsiveness  -->
                    <input type="text" class="form-control" placeholder="Enter First Name" th:field="*{firstName}" required>
                    <p th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}"></p> <!-- Checking if condition is met for firstname -->
                </div>

                <!-- Every part of the form is required to be filled in to be able to continue as it all gets stored once -->
                <div class="col">
                    <label><b>Surname</b></label> <!-- Form control for responsiveness  -->
                    <input type="text" class="form-control" placeholder="Enter Surname Name" th:field="*{surname}" required>
                    <p th:if="${#fields.hasErrors('surname')}" th:errors="*{surname}"></p> <!-- Checking if condition is met for surname -->
                </div>
            </div>

            <!-- add group structure to the form -->
            <div class="form-group my-1"> <!-- Form group to contain the form input & label  -->
                <label><b>Email</b></label> <!-- Form control for responsiveness  -->
                <input type="email" class="form-control" placeholder="Enter Email" th:field="*{email}" required>
                <p th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></p> <!-- Checking if condition is met for email -->
            </div>

            <!-- add to the form group to maintain structure & styling for the password & confirm password -->
            <div class="form-group my-1"> <!-- Form group to contain the form input & label  -->
                <label><b>Password</b></label> <!-- Form control for responsiveness  -->
                <input type="password" class="form-control" placeholder="Enter Password" th:field="*{password}" required>
            </div>

            <div class="form-group my-2"> <!-- Form group to contain the form input & label  -->
                <label><b>Confirm Password</b></label> <!-- Form control for responsiveness  -->
                <input type="password" class="form-control" placeholder="Confirm Password" name="confirmPassword" required>
                <p th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></p> <!-- Checking if condition is met for passwords -->
            </div>
            <!-- Provides visual weight & declares main button -->
            <div class="d-flex justify-content-end">
                <button type="submit" class="btn btn-primary">Sign Up</button> <!-- submits the information in the form to be stored -->
            </div>

        </form>
    </div>
</section>
</body>
</html>
